---

copyright:

  years: 2018
lastupdated: "2018-11-02"

---

{:shortdesc: .shortdesc}
{:codeblock: .codeblock}
{:screen: .screen}
{:tip: .tip}

# アクセス権限を割り当てるためのベスト・プラクティス
{: #account_setup}

アクセス権限の割り当てプロセスを簡素化するために、アクセス・グループを利用して、同じアクセス・グループに属するすべてのユーザーおよびサービス ID に同じアクセス権限を付与することで、割り当てるポリシーの数を最小限に抑えることができます。以下のベスト・プラクティスでは、リソース、リソース・グループ、およびアカウント管理サービスへのアクセス権限をユーザーに付与することについて詳しく説明します。

操作が成功するようにアカウントが完全にセットアップされていることを確認するには、『[アカウントをセットアップするためのベスト・プラクティス](/docs/account/bp_account.html#account_setup)』および『 [リソース・グループ内のリソースを編成するためのベスト・プラクティス](/docs/resources/bestpractice_rgs.html)』を良くお読みください。
{: tip}

## 優れたアクセス・グループ戦略とは

アクセス・グループとは、同じ IAM アクセス権限を付与できるユーザーおよびサービス ID のグループです。個々のユーザーまたはサービス ID ごとに同じアクセス権限を複数回割り当てるのではなく、単一のポリシーをグループに割り当てることができます。

[アカウントをセットアップするためのベスト・プラクティス](/docs/account/bp_account.html#account_setup)に従っている場合、アクセス権限を割り当てる論理的な方法は、必要なアクセス・レベルごとに 1 つのアクセス・グループを作成することです。その後、各アクセス・グループを、前に作成したリソース・グループにマップできます。例えば、`CustApp` プロジェクトへのアクセスを制御するために、以下のアクセス・グループを作成できます。

* Auditor-Group
* Developer-Group
* Admin-Group

Auditor-Group 用に、`CustApp-Test` リソース・グループおよび `CustApp-Prod` リソース・グループへのビューアーのアクセス権限を付与する 2 つのアクセス・ポリシーを割り当てます。Developer-Group 用には、`CustApp-Dev` 環境および `CustApp-Test` 環境へのエディターのアクセス権限を付与する 2 つのアクセス・ポリシーを割り当てます。Admin-Group 用には、`CustApp` の 3 つすべてのリソース・グループへの管理者のアクセス権限を付与する 3 つのアクセス・ポリシーを割り当てます。

これらの提案は仮のシナリオ用に設計されていますが、リソース・グループへのアクセス・グループのマッピングを必要に応じて構成できます。

## アクセス・グループの作成
{: #access-group-setup}

アクセス・グループを作成するには、以下のステップを実行します。 

1. {{site.data.keyword.Bluemix}} コンソールで、**「管理」** &gt; **「セキュリティー」** &gt; **「ID およびアクセス」**をクリックし、**「アクセス・グループ」**を選択します。
2. **「作成」**をクリックします。
3. グループの名前と説明を入力します。
4. **「作成」**をクリックします。

アクセス・グループを作成した後、ユーザーおよびサービス ID をそのグループに追加できます。

## IAM アクセス・ポリシーがアクセス権限を付与する仕組み

ポリシーは、サブジェクト、ターゲット、および役割で構成されます。この場合のサブジェクトはアクセス・グループです。ターゲットは、サブジェクトがアクセスするものです。例えば、リソースの集合、1 つのサービス・インスタンス、アカウント内のすべてのサービス、1 つのサービスのすべてのインスタンスなどです。役割は、ユーザーに付与されるアクセス権限のレベルを定義します。

最も一般的に使用される役割は、ビューアー、エディター、および管理者です。ビューアー役割は、アカウント内のインスタンスおよびリソース・グループを表示するための最低限のアクセス権限を付与します。エディター役割にはもっと強いアクセス権限があり、サービス・インスタンスを作成、編集、削除、およびバインドすることができます。管理者役割には、サービス・インスタンスを操作するためのすべてのものが含まれており、他のユーザーにアクセス権限を割り当てることもできます。ただし、プラットフォームとサービスという 2 つの異なる役割カテゴリーがあることを考慮する必要があります。割り当てることのできる役割について詳しくは、『[Cloud IAM の役割](/docs/iam/users_roles.html#iamusermanrol)』を参照してください。 

## アクセス・グループへのアクセス権限の割り当て
{: #assigning-access}

アクセス権限の割り当てをできるだけ単純にするため、リソースをリソース・グループに編成し、ユーザーおよびサービス ID をアクセス・グループに編成することができます。それぞれをセットアップした後、作成したリソースへのアクセス権限をアカウント内のユーザーに付与するため、アクセス・グループ用にアクセス・ポリシーを作成できます。

1. **「管理」** &gt; **「セキュリティー」** &gt; **「ID およびアクセス」**をクリックし、**「アクセス・グループ」**を選択します。
2. アクセス権限を割り当てるアクセス・グループの名前を選択します。
3. **「アクセス・ポリシー」**タブを選択し、**「アクセス権限の割り当て」**をクリックします。アクセス権限の割り当てには以下のオプションがあります。

  * **「リソース・グループ内のリソースへのアクセス権限の割り当て」**: カタログからリソースを作成してそれらをリソース・グループに割り当てるユーザーに必要な 2 部構成ポリシーを付与する場合、このオプションを使用します。このオプションを使用すると、リソース・グループ自体へのアクセス権限と、特定のリソース・グループ内のすべてのリソースへのアクセス権限、またはリソース・グループ内の 1 つのみのサービスまたはインスタンスへのアクセス権限を付与できます。
  * **「リソースへのアクセス権限の割り当て」**: アカウントのすべての IAM 対応サービスへのアクセス権限、または、アカウント内の単一サービスへのアクセス権限を割り当てるが、インスタンス・レベルの割り当てはしない場合、このオプションを使用します。
  * **「アカウント管理サービスへのアクセス権限の割り当て」**: アカウント所有者ができることの一部を委任する方法として、アカウント管理サービスへのアクセス権限をユーザーに付与する場合は、このオプションを使用します。委任できることの例として、請求および使用量の表示、 ユーザーの招待と削除、アクセス・グループの管理、カタログ・サービスの管理、サービス ID の管理などがあります。すべてのアカウント管理サービスまたは 1 つのサービスのみへのアクセス権限を付与することができます。

アクセス・グループを 1 つ作成し、それに 2 つのポリシーを割り当てることによって、複数のユーザーにアカウント内のすべてに対する管理者アクセス権限を容易に付与できます。1 つ目のポリシーを作成するには、**「リソースへのアクセス権限の割り当て」**オプションを使用し、管理者役割が割り当てられた状態で**「すべての ID およびアクセス対応サービス」**を選択します。2 つ目のポリシーを作成するには、**「アカウント管理サービスへのアクセス権限の割り当て」** オプションを使用し、管理者役割が割り当てられた状態で**「すべてのアカウント管理サービス」**を選択します。
{: tip}

